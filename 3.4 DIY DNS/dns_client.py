import socket
from dns_server import DNSframe

if __name__ == '__main__':
    s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
    s.connect(('192.168.0.1', 53))
    malformed = b"\xb1\xed\x01\x00\x00\x01\x00\x00\x00\x00\x00\x00\x06\x64\x69\x73\x71\x75\x73\x03\x63\x6f\x6d\x00\x00"
    query = b"\xb1\xed\x01\x00\x00\x01\x00\x00\x00\x00\x00\x00\x06\x64\x69\x73\x71\x75\x73\x03\x63\x6f\x6d\x00\x00\x01\x00\x01"
    answer = b"\xb1\xed\x81\x80\x00\x01\x00\x04\x00\x00\x00\x00\x06\x64\x69\x73\x71\x75\x73\x03\x63\x6f\x6d\x00\x00\x01\x00\x01\xc0\x0c\x00\x01\x00\x01\x00\x00\x06\x44\x00\x04\x97\x65\x80\x86\xc0\x0c\x00\x01\x00\x01\x00\x00\x06\x44\x00\x04\x97\x65\x40\x86\xc0\x0c\x00\x01\x00\x01\x00\x00\x06\x44\x00\x04\x97\x65\x00\x86\xc0\x0c\x00\x01\x00\x01\x00\x00\x06\x44\x00\x04\x97\x65\xc0\x86"
    # test = b'1' * 20 + b'\x01f\x03isi\x04arpa\x00' + b'1' * 8 + b'\x03foo' + (0b1100000000010100).to_bytes(2, 'big') + b'1' * 14 + (0b1100000000101000).to_bytes(2, 'big')
    x = DNSframe(malformed)
    #msg = malformed
    #s.sendall(int.to_bytes(len(msg), 2, 'big') + msg)
    #data = s.recv(1024)
    #print(data)

